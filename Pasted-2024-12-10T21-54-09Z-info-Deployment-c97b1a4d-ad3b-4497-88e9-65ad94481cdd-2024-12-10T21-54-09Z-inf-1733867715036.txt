2024-12-10T21:54:09Z info: Deployment: c97b1a4d-ad3b-4497-88e9-65ad94481cdd
2024-12-10T21:54:09Z info: Build: 5bc0312c-4348-4590-b1e0-6a347d377a51
2024-12-10T21:54:09Z info: Connecting to builder
2024-12-10T21:54:13Z info: Builder connected
2024-12-10T21:54:13Z info: Installing packages
2024-12-10T21:54:14Z info: Starting Build

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist


vite v5.4.11 building for production...

transforming...

✓ 1934 modules transformed.

rendering chunks...

computing gzip size...

../dist/public/index.html                   1.62 kB │ gzip:   0.64 kB

../dist/public/assets/index-CN40LATk.js   519.15 kB │ gzip: 160.77 kB

✓ built in 8.86s

server/auth.ts(97,29): error TS2345: Argument of type '{ id: number; email: string; password: string; isPremium: boolean | null; stripeCustomerId: string | null; createdAt: Date | null; marketingEmails: boolean | null; keepMeLoggedIn: boolean | null; username: string | null; }' is not assignable to parameter of type 'false | User | undefined'.
  Type '{ id: number; email: string; password: string; isPremium: boolean | null; stripeCustomerId: string | null; createdAt: Date | null; marketingEmails: boolean | null; keepMeLoggedIn: boolean | null; username: string | null; }' is not assignable to type 'User'.
    Types of property 'isPremium' are incompatible.
      Type 'boolean | null' is not assignable to type 'boolean'.
        Type 'null' is not assignable to type 'boolean'.

server/routes.ts(6,11): error TS2430: Interface 'AuthenticatedRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'user' are incompatible.
    Type '{ id: number; email: string; password: string; isPremium: boolean | null; stripeCustomerId: string | null; createdAt: Date | null; marketingEmails: boolean | null; keepMeLoggedIn: boolean | null; username: string | null; } | undefined' is not assignable to type 'User | undefined'.
      Type '{ id: number; email: string; password: string; isPremium: boolean | null; stripeCustomerId: string | null; createdAt: Date | null; marketingEmails: boolean | null; keepMeLoggedIn: boolean | null; username: string | null; }' is not assignable to type 'SelectUser'.
        Types of property 'isPremium' are incompatible.
          Type 'boolean | null' is not assignable to type 'boolean'.
            Type 'null' is not assignable to type 'boolean'.
server/stripe.ts(8,11): error TS2430: Interface 'AuthenticatedRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'user' are incompatible.
    Type '{ id: number; email: string; password: string; isPremium: boolean | null; stripeCustomerId: string | null; createdAt: Date | null; marketingEmails: boolean | null; keepMeLoggedIn: boolean | null; username: string | null; } | undefined' is not assignable to type 'User | undefined'.
      Type '{ id: number; email: string; password: string; isPremium: boolean | null; stripeCustomerId: string | null; createdAt: Date | null; marketingEmails: boolean | null; keepMeLoggedIn: boolean | null; username: string | null; }' is not assignable to type 'SelectUser'.
        Types of property 'isPremium' are incompatible.
          Type 'boolean | null' is not assignable to type 'boolean'.
            Type 'null' is not assignable to type 'boolean'.
server/stripe.ts(63,7): error TS2322: Type '"2023-08-16"' is not assignable to type '"2024-11-20.acacia"'.
server/vite.ts(9,24): error TS2307: Cannot find module '../vite.config' or its corresponding type declarations.

npm notice
npm notice New minor version of npm available! 10.8.1 -> 10.9.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v10.9.2
npm notice To update run: npm install -g npm@10.9.2
npm notice